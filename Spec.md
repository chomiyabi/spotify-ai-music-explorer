# Spotify データビジュアライゼーション アプリケーション仕様書

## 1. 目的
本アプリケーションは、SpotifyがAPIを通じて提供する膨大な音楽関連データを、専門的な知識がないユーザーでも直感的に理解し、楽しめる形で提供することを目的とします。音楽のトレンドや特定のジャンルの人気曲、アーティスト情報などを簡単な操作で引き出せるようにすることで、データアクセスのハードルを下げます。これにより、ユーザーが新たな音楽を発見したり、音楽への興味関心を深めたりするきっかけを創出することが、このプロジェクトの中心的なゴールです。ユーザーのログインを不要とすることで、誰でも気軽に利用できる手軽さを実現します。

## 2. ハイレベルワークフロー
このアプリケーションには、大きく分けて2つの操作フローが存在します。

### A. プリセットボタンによるデータ取得フロー
あらかじめ定義された人気の検索条件をワンクリックで実行する際のデータの流れです。

```
ユーザー操作（ボタンクリック）
    │
    └───> ① フロントエンド：指定されたリクエストをバックエンドに送信
            │
            └───> ② バックエンド：対応するSpotify APIを呼び出し
                    │
                    └───> ③ Spotify API：データをJSON形式で返却
                            │
                            └───> ④ バックエンド：データをフロントエンド用に整形
                                    │
                                    └───> ⑤ フロントエンド：結果を受け取り画面に表示
```

### B. フリーテキストによるデータ取得フロー
ユーザーが自由に入力した内容をAIが解釈し、最適なデータを表示する際の流れです。

```
ユーザー操作（テキスト入力＆検索）
    │
    └───> ① フロントエンド：入力テキストをバックエンドに送信
            │
            └───> ② バックエンド：テキストをAIサービスに送信
                    │
                    └───> ③ AIサービス (LLM)：テキストを解釈し、検索に適したキーワードやパラメータを生成して返却
                            │
                            └───> ④ バックエンド：AIの返答を元にSpotify APIを呼び出し
                                    │
                                    └───> ⑤ Spotify API：データをJSON形式で返却
                                            │
                                            └───> ⑥ バックエンド：データをフロントエンド用に整形
                                                    │
                                                    └───> ⑦ フロントエンド：結果を受け取り画面に表示
```

## 3. システム構成
本アプリケーションの実現に必要となる最低限の技術要素を以下に示します。

| レイヤ | コンポーネント | 主な技術（※補足提案） | 役割 |
|-------|-------------|-------------------|------|
| フロントエンド | UI / APIクライアント | React / Vue.js | ユーザーが操作する画面の描画と、バックエンドとの通信を担当します。 |
| バックエンド | APIサーバー | Node.js (Express) / Python (FastAPI) | フロントエンドからのリクエストを受け付け、外部サービスとの連携やデータ加工を行います。 |
| AI サービス | 自然言語処理モデル | Claude（※補足提案） | フリーテキストで入力されたユーザーの意図を解釈し、Spotify APIで検索可能な形式に変換します。 |
| 認証 | API認証 | Spotify API (Client Credentials Flow)（※補足提案） | ユーザーのログインなしに、アプリケーション自体がSpotifyのデータにアクセスするための認証を行います。 |
| ホスティング/インフラ | 実行環境 | Vercel / Netlify / AWS Amplify（※補足提案） | フロントエンドとサーバーレスなバックエンドを統合的に管理・公開するためのプラットフォームです。 |

## 4. フロントエンド UI
ユーザーが直接触れる主要な画面要素の構成案です。

### ヘッダーエリア
アプリケーションのタイトルと簡単な説明を配置します。

### プリセットボタンエリア
クリックするだけで人気のあるデータが表示されるボタンを10個配置します。（※補足提案）

ボタンの具体例:
- 日本のバイラル Top 50
- 世界の Top 50
- 日本の Top アーティスト 10
- アメリカの Top アーティスト 10
- K-POP ジャンルの人気プレイリスト
- アニメソングの人気プレイリスト
- 最新リリースのアルバム
- 最新リリースのシングル
- 今日のポッドキャストランキング
- ワークアウト向けプレイリスト

### フリーテキスト検索エリア
- **テキスト入力フォーム**: ユーザーが自由に質問やキーワードを入力できる欄。「例：80年代の洋楽ヒット曲」のようなプレースホルダーを表示し、入力を促します。
- **検索ボタン**: 入力された内容で検索を実行します。

### 結果表示エリア
- 初期状態では、アプリケーションの使い方のガイドなどを表示します。
- ボタンクリックや検索実行後、取得したデータ（楽曲リスト、アーティストリスト、アルバムリストなど）がここに表示されます。

（※補足提案）表示形式:
- 各項目はカード形式で表示し、ジャケット写真、曲名、アーティスト名、アルバム名を記載します。
- 各カードには、クリックするとSpotifyの公式ページやアプリでその曲を聴ける外部リンクを設置します。
- リストには順位番号を付け、ランキング形式で分かりやすく見せます。